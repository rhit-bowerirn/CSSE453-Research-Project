This is another implementation, just use runner. The framework is very similar to system.py, but some mechanisms are different